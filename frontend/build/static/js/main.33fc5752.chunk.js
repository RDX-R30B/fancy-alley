(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){},224:function(e,t,a){e.exports=a(440)},280:function(e,t){},286:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=286},289:function(e,t){},291:function(e,t){},313:function(e,t){},315:function(e,t){},343:function(e,t){},345:function(e,t){},346:function(e,t){},351:function(e,t){},353:function(e,t){},359:function(e,t){},361:function(e,t){},380:function(e,t){},392:function(e,t){},395:function(e,t){},440:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(203),l=a.n(c),s=a(9),o=a.n(s),m=a(14),i=a(8),u=a(2),d=a(3),E=function(){var e=Object(d.g)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1];return n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log(c),c.trim()?e("/search/".concat(c)):e("/")}},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{autoComplete:"off",type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return l(e.target.value)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{id:"search_btn",className:"btn"},n.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))))},p=a(6),f=a(12),b=a(16),v=a.n(b),g=function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"QR_REQUEST"}),a({type:"QR_SUCCESS",payload:e.user})}catch(r){a({type:"QR_FAIL",payload:r.response.data.message})}case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOAD_USER_REQUEST"}),e.next=4,v.a.get("/api/v1/me");case 4:a=e.sent,r=a.data,t({type:"LOAD_USER_SUCCESS",payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"LOAD_USER_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},y=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL_USERS_REQUEST"}),e.next=4,v.a.get("/api/v1/admin/users");case 4:a=e.sent,r=a.data,t({type:"ALL_USERS_SUCCESS",payload:r.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALL_USERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},S=(a(127),function(){var e=Object(f.d)(),t=Object(p.b)(),a=Object(p.c)(function(e){return e.auth}),c=a.user,l=a.loading,s=Object(p.c)(function(e){return e.cart}).cartItems;console.log(c&&c.name);return n.a.createElement(r.Fragment,null,n.a.createElement("nav",{className:"navbar row"},n.a.createElement("div",{className:"col-12 col-md-3"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement(u.b,{to:"/"},n.a.createElement("img",{src:"/images/logo1.png"})))),n.a.createElement("div",{className:"col-12 col-md-6 mt-2 mt-md-0"},n.a.createElement(E,null)),n.a.createElement("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center"},n.a.createElement(u.b,{to:"/cart",style:{textDecoration:"none"}},n.a.createElement("span",{id:"cart",className:"ml-3"},"Cart"),n.a.createElement("span",{className:"ml-1",id:"cart_count"},s.length)),c?n.a.createElement("div",{className:"ml-4 dropdown d-inline"},n.a.createElement(u.b,{to:"#!",className:"btn dropdown-toggle mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("figure",{className:"avatar avatar-nav"},n.a.createElement("img",{src:c.avatar&&c.avatar.url,alt:c&&c.name,className:"rounded-circle"})),n.a.createElement("span",null,c&&c.name)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton"},c&&"admin"===c.role&&n.a.createElement(u.b,{className:"dropdown-item",to:"/dashboard"},"Dashboard"),n.a.createElement(u.b,{className:"dropdown-item",to:"/orders/me"},"Orders"),n.a.createElement(u.b,{className:"dropdown-item",to:"/me"},"Profile"),n.a.createElement(u.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/v1/logout");case 3:t({type:"LOGOUT_SUCCESS"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"LOGOUT_FAIL",payload:e.t0.response.data.message});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully")}},n.a.createElement("strong",null,"Logout")))):!l&&n.a.createElement(u.b,{to:"/login",className:"btn ml-4",id:"login_btn"},n.a.createElement("strong",null,"Login")))))}),_=function(){return n.a.createElement(r.Fragment,null,n.a.createElement("footer",{className:"py-1"},n.a.createElement("p",{className:"text-center mt-1"},"Fancy Alley - 2022, All Rights Reserved")))},N=a(205),R=a.n(N),j=a(223),w=(a(259),a(207)),C=function(e){var t=e.title;return n.a.createElement(w.a,null,n.a.createElement("title",null,"".concat(t," - Fancy Alley")))},D=function(e){var t=e.product,a=e.col;return n.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-".concat(a," my-3")},n.a.createElement("div",{className:"card p-3 rounded"},n.a.createElement("img",{className:"card-img-top mx-auto",src:t.images[0].url}),n.a.createElement("div",{className:"card-body d-flex flex-column"},n.a.createElement("h5",{className:"card-title"},n.a.createElement(u.b,{to:"/product/".concat(t._id)},t.name)),n.a.createElement("div",{className:"ratings mt-auto"},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}}," ")),n.a.createElement("span",{id:"no_of_reviews"},"(",t.numOfReviews," Reviews)")),n.a.createElement("p",{className:"card-text"},"\u20b9",t.price),n.a.createElement(u.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block"},"View Details"))))},U=function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,v.a.get("/api/v1/product/".concat(e));case 4:r=t.sent,n=r.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:n.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},T=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ADMIN_PRODUCTS_REQUEST"}),e.next=4,v.a.get("/api/v1/admin/products");case 4:a=e.sent,r=a.data,t({type:"ADMIN_PRODUCTS_SUCCESS",payload:r.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ADMIN_PRODUCTS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"GET_REVIEWS_REQUEST"}),t.next=4,v.a.get("/api/v1/reviews?id=".concat(e));case 4:r=t.sent,n=r.data,a({type:"GET_REVIEWS_SUCCESS",payload:n.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"GET_REVIEWS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},P=function(){return n.a.createElement("div",{className:"cssload-loader"},n.a.createElement("div",{className:"cssload-inner cssload-one"}),n.a.createElement("div",{className:"cssload-inner cssload-two"}),n.a.createElement("div",{className:"cssload-inner cssload-three"}))},L=(a(261),function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([1,1e3]),s=Object(i.a)(l,2),u=s[0],E=s[1],b=Object(r.useState)(""),g=Object(i.a)(b,2),h=g[0],y=g[1],O=Object(r.useState)(0),S=Object(i.a)(O,2),_=S[0],N=S[1],w=Object(f.d)(),U=Object(p.b)(),T=Object(p.c)(function(e){return e.products}),A=T.loading,I=T.products,L=T.error,x=T.productsCount,F=T.resPerPage,k=T.filteredProductsCount;console.log(I);var W=Object(d.h)().keyword;Object(r.useEffect)(function(){if(L)return w.error(L);U(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var c=Object(m.a)(o.a.mark(function c(l){var s,m,i;return o.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,l({type:"ALL_PRODUCTS_REQUEST"}),s="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(a[1],"&price[gte]=").concat(a[0],"&ratings[gte]=").concat(n),r&&(s="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(a[1],"&price[gte]=").concat(a[0],"&category=").concat(r,"&ratings[gte]=").concat(n)),c.next=6,v.a.get(s);case 6:m=c.sent,i=m.data,l({type:"ALL_PRODUCTS_SUCCESS",payload:i}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),l({type:"ALL_PRODUCTS_FAIL",payload:c.t0.response.data.message});case 14:case"end":return c.stop()}},c,null,[[0,11]])}));return function(e){return c.apply(this,arguments)}}()}(W,a,u,h,_))},[U,L,w,W,a,u,h,_]),console.log(F);var Q=x;return W&&(console.log(Q),Q=k),n.a.createElement(r.Fragment,null,A?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Best Online Products"}),n.a.createElement("h1",{id:"products_heading"},"Find the latest exclusive products and get your Cart Simplified!"),n.a.createElement("section",{id:"products",className:"container mt-5"},n.a.createElement("div",{className:"row"},W?n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"col-6 col-md-3 mt-5 mb-5"},n.a.createElement("div",{className:"px-5"},n.a.createElement(j.a,{range:!0,marks:{1:"\u20b91",1000:"\u20b91000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"\u20b9".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return E(e)}}),n.a.createElement("hr",{className:"my-5"}),n.a.createElement("div",{className:"my-5"},n.a.createElement("h4",{className:"mb-3"},"Categories"),n.a.createElement("ul",{className:"pl-0"},["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("li",{style:{cursor:"pointer",listStyleType:"none"},key:e,onClick:function(){return y(e)}},e)}))),n.a.createElement("hr",{className:"my-3"}),n.a.createElement("div",{className:"my-5"},n.a.createElement("h4",{className:"mb-3"},"Ratings"),n.a.createElement("ul",{className:"pl-0"},[5,4,3,2,1].map(function(e){return n.a.createElement("li",{style:{cursor:"pointer",listStyleType:"none"},key:e,onClick:function(){return N(e)}},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})))}))))),n.a.createElement("div",{className:"col-6 col-md-9"},n.a.createElement("div",{className:"row"},I.map(function(e){return n.a.createElement(D,{key:e._id,product:e,col:4})})))):I.map(function(e){return n.a.createElement(D,{key:e._id,product:e,col:3})}))),F<=Q&&n.a.createElement("div",{className:"d-flex justify-content-center mt-5"},n.a.createElement(R.a,{activePage:a,itemsCountPerPage:F,totalItemsCount:x,onChange:function(e){c(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page=item",linkClass:"page-link"}))))}),x=function(e){var t=e.reviews;return n.a.createElement("div",{className:"reviews w-75"},n.a.createElement("h3",null,"Other's Reviews:"),n.a.createElement("hr",null),t&&t.map(function(e){return n.a.createElement("div",{key:e._id,className:"review-card my-3"},n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})),n.a.createElement("p",{className:"review_user"},"by ",e.name),n.a.createElement("p",{className:"review_comment"},e.comment),n.a.createElement("hr",null))}))},F=a(448),k=function(e,t){return function(){var a=Object(m.a)(o.a.mark(function a(r,n){var c,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.get("/api/v1/product/".concat(e));case 2:c=a.sent,l=c.data,r({type:"ADD_TO_CART",payload:{product:l.product._id,name:l.product.name,price:l.product.price,image:l.product.images[0].url,stock:l.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},W=function(){var e=Object(d.h)().id,t=Object(p.b)(),a=Object(r.useState)(1),c=Object(i.a)(a,2),l=c[0],s=c[1],u=Object(r.useState)(0),E=Object(i.a)(u,2),b=E[0],g=E[1],h=Object(r.useState)(""),y=Object(i.a)(h,2),O=y[0],S=y[1],_=Object(p.c)(function(e){return e.newReview}),N=_.error,R=_.success,j=Object(f.d)(),w=Object(p.c)(function(e){return e.productDetails}),D=w.loading,T=w.error,A=w.product,L=Object(p.c)(function(e){return e.auth}).user;Object(r.useEffect)(function(){t(U(e)),T&&(j.error(T),t(I())),N&&(j.error(N),t(I())),R&&(j.success("Reivew posted successfully"),t({type:"NEW_REVIEW_RESET"}))},[t,j,T,N,e,R]);return n.a.createElement(r.Fragment,null,D?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:A.name}),n.a.createElement("div",{className:"row f-flex justify-content-around"},n.a.createElement("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image"},n.a.createElement(F.a,{pause:"hover"},A.images&&A.images.map(function(e){return n.a.createElement(F.a.Item,{key:e.public_id},n.a.createElement("img",{className:"d-block w-100",src:e.url,alt:A.title}))}))),n.a.createElement("div",{className:"col-12 col-lg-5 mt-5"},n.a.createElement("h3",null,A.name),n.a.createElement("p",{id:"product_id"},"Product # ",A._id),n.a.createElement("hr",null),n.a.createElement("div",{className:"rating-outer"},n.a.createElement("div",{className:"rating-inner",style:{width:"".concat(A.ratings/5*100,"%")}})),n.a.createElement("span",{id:"no_of_reviews"},"(",A.numOfReviews," Reviews)"),n.a.createElement("hr",null),n.a.createElement("p",{id:"product_price"},"\u20b9",A.price),n.a.createElement("div",{className:"stockCounter d-inline"},n.a.createElement("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;s(t)}}},"-"),n.a.createElement("input",{type:"number",className:"form-control count d-inline",value:l,readOnly:!0}),n.a.createElement("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=A.stock)){var t=e.valueAsNumber+1;s(t)}}},"+")),n.a.createElement("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===A.stock,onClick:function(){t(k(e,l)),j.success("Item Added to Cart")}},"Add to Cart \ud83d\uded2"),n.a.createElement("hr",null),n.a.createElement("p",null,"Status: ",n.a.createElement("span",{id:"stock_status",className:A.stock>0?"greenColor":"redColor"},A.stock>0?"In Stock":"Out of Stock")),n.a.createElement("hr",null),n.a.createElement("h4",{className:"mt-2"},"Description:"),n.a.createElement("p",null,A.description),n.a.createElement("hr",null),n.a.createElement("p",{id:"product_seller mb-3"},"Sold by: ",n.a.createElement("strong",null,A.seller)),L?n.a.createElement("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var a=this;e.forEach(function(e,r){"click"===t.type&&(r<a.starValue?(e.classList.add("orange"),g(a.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(r<a.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")})}e.forEach(function(e,a){e.starValue=a+1,["click","mouseover","mouseout"].forEach(function(a){e.addEventListener(a,t)})})}},n.a.createElement("strong",null,"Submit Your Review")):n.a.createElement("div",{className:"alert alert-danger mt-5",type:"alert"},"Log in to post your review."),n.a.createElement("div",{className:"row mt-2 mb-5"},n.a.createElement("div",{className:"rating w-50"},n.a.createElement("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"ratingModalLabel"},"Submit Review"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("ul",{className:"stars"},n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"})),n.a.createElement("li",{className:"star"},n.a.createElement("i",{className:"fa fa-star"}))),n.a.createElement("textarea",{name:"review",id:"review",className:"form-control mt-3",value:O,onChange:function(e){return S(e.target.value)}}),n.a.createElement("button",{className:"btn my-3 float-right review-btn px-4 ",onClick:function(){var a,r=new FormData;r.set("rating",b),r.set("comment",O),r.set("productId",e),t((a=r,function(){var e=Object(m.a)(o.a.mark(function e(t){var r,n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"NEW_REVIEW_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/review",a,r);case 5:n=e.sent,c=n.data,t({type:"NEW_REVIEW_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"NEW_REVIEW_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},"data-dismiss":"modal","aria-label":"Close"},n.a.createElement("strong",null,"Submit")))))))))),A.reviews&&A.reviews.length>0&&n.a.createElement(x,{reviews:A.reviews})))},Q=function(){var e=Object(d.g)(),t=Object(p.b)(),a=Object(p.c)(function(e){return e.cart}).cartItems,c=function(e){t(function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"REMOVE_ITEM_CART",payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Your Cart"}),0===a.length?n.a.createElement("h2",{className:"mt-5"},"Your Cart is Empty"):n.a.createElement(r.Fragment,null,n.a.createElement("h2",{className:"mt-5"},"Your Cart: ",n.a.createElement("b",null,a.length," items")),n.a.createElement("div",{className:"row d-flex justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-8"},a.map(function(e){return n.a.createElement(r.Fragment,null,n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item",key:e.product},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4 col-lg-3"},n.a.createElement("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})),n.a.createElement("div",{className:"col-5 col-lg-3"},n.a.createElement(u.b,{to:"/products/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0"},n.a.createElement("p",{id:"card_item_price"},"\u20b9",e.price)),n.a.createElement("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0"},n.a.createElement("div",{className:"stockCounter d-inline"},n.a.createElement("span",{className:"btn btn-danger minus",onClick:function(){return function(e,a){var r=a-1;r<=0||t(k(e,r))}(e.product,e.quantity)}},"-"),n.a.createElement("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),n.a.createElement("span",{className:"btn btn-primary plus",onClick:function(){return function(e,a,r){var n=a+1;n>r||t(k(e,n))}(e.product,e.quantity,e.stock)}},"+"))),n.a.createElement("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0"},n.a.createElement("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return c(e.product)}})))),n.a.createElement("hr",null))})),n.a.createElement("div",{className:"col-12 col-lg-3 my-4"},n.a.createElement("div",{id:"order_summary"},n.a.createElement("h4",null,"Order Summary"),n.a.createElement("hr",null),n.a.createElement("p",null,"Subtotal:  ",n.a.createElement("span",{className:"order-summary-values"},a.reduce(function(e,t){return e+Number(t.quantity)},0)," (Units)")),n.a.createElement("p",null,"Est. total: ",n.a.createElement("span",{className:"order-summary-values"},"\u20b9",a.reduce(function(e,t){return e+t.quantity*t.price},0).toFixed(2))),n.a.createElement("hr",null),n.a.createElement("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){e("/shipping")}},n.a.createElement("strong",null,"Check out")))))))},V=function(){var e=Object(d.g)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(""),E=Object(i.a)(s,2),b=E[0],g=E[1],h=Object(f.d)(),y=Object(p.b)(),S=Object(p.c)(function(e){return e.auth}),_=S.isAuthenticated,N=S.error,R=S.loading,j=window.location.search?window.location.search.split("=")[1]:"/";console.log(j),Object(r.useEffect)(function(){_&&e(j),N&&(h.error(N),y(O()))},[y,h,_,N,e]);return n.a.createElement(r.Fragment,null,R?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Login"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),y(function(e,t){return function(){var a=Object(m.a)(o.a.mark(function a(r){var n,c,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"LOGIN_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.post("/api/v1/login",{email:e,password:t},n);case 5:c=a.sent,l=c.data,r({type:"LOGIN_SUCCESS",payload:l.user}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"LOGIN_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(c,b))}},n.a.createElement("h1",{className:"mb-3"},n.a.createElement("strong",null,"Log in")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return l(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_field"},"Password"),n.a.createElement("input",{type:"password",id:"password_field",className:"form-control",value:b,onChange:function(e){return g(e.target.value)}})),n.a.createElement(u.b,{to:"/loginqr",className:"float-left mb-4"},"Login with QR?"),n.a.createElement(u.b,{to:"/password/forgot",className:"float-right mb-4"},"Forgot Password?"),n.a.createElement("button",{id:"login_button",type:"submit",className:"btn btn-block py-3"},"LOGIN"),n.a.createElement(u.b,{to:"/register",className:"float-right mt-3"},"New User?"))))))},G=function(){var e=Object(d.g)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(""),E=Object(i.a)(s,2),b=E[0],h=E[1],y=Object(f.d)(),S=Object(p.b)(),_=Object(p.c)(function(e){return e.auth}),N=_.isAuthenticated,R=_.error,j=_.loading,w=window.location.search?window.location.search.split("=")[1]:"/";return console.log(w),Object(r.useEffect)(function(){N&&e(w),R&&S(O())},[S,y,N,R,e]),Object(r.useEffect)(function(){function e(){return(e=Object(m.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/v1/qrgenerator");case 2:t=e.sent,l(t.data.dataURL),h(t.data.tokenID);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),Object(r.useEffect)(function(){if(""!=b)var e=setInterval(function(){return t.apply(this,arguments)},1e3);function t(){return(t=Object(m.a)(o.a.mark(function t(){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("/api/v1/loginqr/".concat(b));case 2:a=t.sent,""!=(r=a.data)&&(clearInterval(e),S(g(r)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}},[c]),n.a.createElement(r.Fragment,null,j?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"LoginQR"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg"},n.a.createElement("h1",{className:"mb-3"},n.a.createElement("strong",null,"QR Login")),n.a.createElement("img",{src:c,className:"rounded mx-auto d-block",width:"300",height:"300"}),n.a.createElement(u.b,{to:"/login",className:"float-none mb-4"},"Login With Email?"))))))},M=function(){var e=Object(d.g)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(""),u=Object(i.a)(s,2),E=u[0],b=u[1],g=Object(r.useState)(""),y=Object(i.a)(g,2),S=y[0],_=y[1],N=Object(r.useState)("/images/default_avatar.jpg"),R=Object(i.a)(N,2),j=R[0],w=R[1],D=Object(f.d)(),U=Object(p.b)(),T=Object(p.c)(function(e){return e.auth}).user,A=Object(p.c)(function(e){return e.user}),I=A.error,P=A.isUpdated,L=A.loading;Object(r.useEffect)(function(){T&&(l(T.name),b(T.email),w(T.avatar.url)),I&&(D.error(I),U(O())),P&&(D.success("User updated successfully"),U(h()),e("/me"),U({type:"UPDATE_PROFILE_RESET"}))},[U,D,I,e,P]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Update Profile"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",c),a.set("email",E),a.set("avatar",S),U((t=a,function(){var e=Object(m.a)(o.a.mark(function e(a){var r,n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PROFILE_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,v.a.put("/api/v1/me/update",t,r);case 5:n=e.sent,c=n.data,a({type:"UPDATE_PROFILE_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PROFILE_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mt-2 mb-5"},"Update Profile"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Name"),n.a.createElement("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:c,onChange:function(e){return l(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:E,onChange:function(e){return b(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"avatar_upload"},"Avatar"),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",null,n.a.createElement("figure",{className:"avatar mr-3 item-rtl"},n.a.createElement("img",{src:j,className:"rounded-circle",alt:"Avatar Preview"}))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(w(t.result),_(t.result))},t.readAsDataURL(e.target.files[0])}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Avatar")))),n.a.createElement("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!L},"Update")))))},q=a(79),Y=a(7),H=function(){var e=Object(d.g)(),t=Object(r.useState)({name:"",email:"",password:""}),a=Object(i.a)(t,2),c=a[0],l=a[1],s=c.name,u=c.email,E=c.password,b=Object(r.useState)(""),g=Object(i.a)(b,2),h=g[0],y=g[1],S=Object(r.useState)("/images/default_avatar.jpg"),_=Object(i.a)(S,2),N=_[0],R=_[1],j=Object(f.d)(),w=Object(p.b)(),D=Object(p.c)(function(e){return e.auth}),U=D.isAuthenticated,T=D.error,A=D.loading;Object(r.useEffect)(function(){U&&e("/"),T&&(j.error(T),w(O()))},[w,j,U,T,e]);var I=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(R(t.result),y(t.result))},t.readAsDataURL(e.target.files[0])}else l(Object(Y.a)({},c,Object(q.a)({},e.target.name,e.target.value)))};return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Register User"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",s),a.set("email",u),a.set("password",E),a.set("avatar",h),w((t=a,function(){var e=Object(m.a)(o.a.mark(function e(a){var r,n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"REGISTER_USER_REQUEST"}),r={headers:{"Content-Type":"multipart/form-data"}},e.next=5,v.a.post("/api/v1/register",t,r);case 5:n=e.sent,c=n.data,a({type:"REGISTER_USER_SUCCESS",payload:c.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"REGISTER_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mb-3"},"Register"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Name"),n.a.createElement("input",{autoComplete:"off",type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:I})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",autoComplete:"off",id:"email_field",className:"form-control",name:"email",value:u,onChange:I})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_field"},"Password"),n.a.createElement("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:E,onChange:I})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"avatar_upload"},"Avatar"),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",null,n.a.createElement("figure",{className:"avatar mr-3 item-rtl"},n.a.createElement("img",{src:N,className:"rounded-circle",alt:"Avatar Preview"}))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"iamges/*",onChange:I}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Avatar")))),n.a.createElement("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!A},"REGISTER")))))},B=function(){return n.a.createElement("div",{className:"sidebar-wrapper"},n.a.createElement("nav",{id:"sidebar"},n.a.createElement("ul",{className:"list-unstyled components"},n.a.createElement("li",null,n.a.createElement(u.b,{to:"/dashboard"},n.a.createElement("i",{className:"fa fa-tachometer"})," Dashboard")),n.a.createElement("li",null,n.a.createElement("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle"},n.a.createElement("i",{className:"fa fa-product-hunt"})," Products"),n.a.createElement("ul",{className:"collapse list-unstyled",id:"productSubmenu"},n.a.createElement("li",null,n.a.createElement(u.b,{to:"/admin/products"},n.a.createElement("i",{className:"fa fa-clipboard"})," All")),n.a.createElement("li",null,n.a.createElement(u.b,{to:"/admin/product"},n.a.createElement("i",{className:"fa fa-plus"})," Create")))),n.a.createElement("li",null,n.a.createElement(u.b,{to:"/admin/orders"},n.a.createElement("i",{className:"fa fa-shopping-basket"})," Orders")),n.a.createElement("li",null,n.a.createElement(u.b,{to:"/admin/users"},n.a.createElement("i",{className:"fa fa-users"})," Users")),n.a.createElement("li",null,n.a.createElement(u.b,{to:"/admin/reviews"},n.a.createElement("i",{className:"fa fa-star"})," Reviews")))))},J=function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a,r){var n,c,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_ORDER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/v1/order/new",e,n);case 5:c=t.sent,l=c.data,a({type:"CREATE_ORDER_SUCCESS",payload:l}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"CREATE_ORDER_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),t.next=4,v.a.get("/api/v1/order/".concat(e));case 4:r=t.sent,n=r.data,a({type:"ORDER_DETAILS_SUCCESS",payload:n.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"ORDER_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},$=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ALL_ORDERS_REQUEST"}),e.next=4,v.a.get("/api/v1/admin/orders");case 4:a=e.sent,r=a.data,t({type:"ALL_ORDERS_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALL_ORDERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ERRORS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},X=function(){var e=Object(p.b)(),t=Object(p.c)(function(e){return e.products}).products,a=Object(p.c)(function(e){return e.allUsers}).users,c=Object(p.c)(function(e){return e.allOrders}),l=c.orders,s=c.totalAmount,o=c.loading,m=0;return t.forEach(function(e){0===e.stock&&(m+=1)}),Object(r.useEffect)(function(){e(T()),e($()),e(y())},[e]),n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement("h1",{className:"my-4"},"Dashboard"),o?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Admin Dashboard"}),n.a.createElement("div",{className:"row pr-4"},n.a.createElement("div",{className:"col-xl-12 col-sm-12 mb-3"},n.a.createElement("div",{className:"card text-white bg-primary o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Total Amount",n.a.createElement("br",null)," ",n.a.createElement("b",null,"$",s&&s.toFixed(2))))))),n.a.createElement("div",{className:"row pr-4"},n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-success o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Products",n.a.createElement("br",null)," ",n.a.createElement("b",null,t&&t.length))),n.a.createElement(u.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-danger o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Orders",n.a.createElement("br",null)," ",n.a.createElement("b",null,l&&l.length))),n.a.createElement(u.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-info o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Users",n.a.createElement("br",null)," ",n.a.createElement("b",null,a&&a.length))),n.a.createElement(u.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users"},n.a.createElement("span",{className:"float-left"},"View Details"),n.a.createElement("span",{className:"float-right"},n.a.createElement("i",{className:"fa fa-angle-right"}))))),n.a.createElement("div",{className:"col-xl-3 col-sm-6 mb-3"},n.a.createElement("div",{className:"card text-white bg-warning o-hidden h-100"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"text-center card-font-size"},"Out of Stock",n.a.createElement("br",null)," ",n.a.createElement("b",null,m))))))))))},Z=a(67),ee=a(214),te=a(213),ae=a(40),re=Object(Z.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_PRODUCTS_REQUEST":case"ADMIN_PRODUCTS_REQUEST":return{loading:!0,products:[]};case"ALL_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case"ADMIN_PRODUCTS_SUCCESS":return{loading:!1,products:t.payload};case"ALL_PRODUCTS_FAIL":case"ADMIN_PRODUCTS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(Y.a)({},e,{loading:!0});case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return Object(Y.a)({},e,{error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_PRODUCT_REQUEST":return Object(Y.a)({},e,{loading:!0});case"NEW_PRODUCT_SUCCESS":return{loading:!1,success:t.payload.success,product:t.payload.product};case"NEW_PRODUCT_FAIL":return Object(Y.a)({},e,{error:t.payload});case"NEW_PRODUCT_RESET":return Object(Y.a)({},e,{success:!1});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_REQUEST":case"UPDATE_PRODUCT_REQUEST":return Object(Y.a)({},e,{loading:!0});case"DELETE_PRODUCT_SUCCESS":return Object(Y.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_PRODUCT_SUCCESS":return Object(Y.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_PRODUCT_FAIL":case"UPDATE_PRODUCT_FAIL":return Object(Y.a)({},e,{error:t.payload});case"DELETE_PRODUCT_RESET":return Object(Y.a)({},e,{isDeleted:!1});case"UPDATE_PRODUCT_RESET":return Object(Y.a)({},e,{isUpdated:!1});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_REVIEWS_REQUEST":return Object(Y.a)({},e,{loading:!0});case"GET_REVIEWS_SUCCESS":return{loading:!1,reviews:t.payload};case"GET_REVIEWS_FAIL":return Object(Y.a)({},e,{error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_REVIEW_REQUEST":return Object(Y.a)({},e,{loading:!0});case"DELETE_REVIEW_SUCCESS":return Object(Y.a)({},e,{loading:!1,isDeleted:t.payload});case"DELETE_REVIEW_FAIL":return Object(Y.a)({},e,{error:t.payload});case"DELETE_REVIEW_RESET":return Object(Y.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":case"QR_REQUEST":case"REGISTER_USER_REQUEST":case"LOAD_USER_REQUEST":return{loading:!0,isAuthenticated:!1};case"LOGIN_SUCCESS":case"QR_SUCCESS":case"REGISTER_USER_SUCCESS":case"LOAD_USER_SUCCESS":return Object(Y.a)({},e,{loading:!1,isAuthenticated:!0,user:t.payload});case"LOGOUT_SUCCESS":return{loading:!1,isAuthenticated:!1,user:null};case"LOAD_USER_FAIL":return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case"LOGOUT_FAIL":return Object(Y.a)({},e,{error:t.payload});case"LOGIN_FAIL":case"QR_FAIL":case"REGISTER_USER_FAIL":return Object(Y.a)({},e,{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PROFILE_REQUEST":case"UPDATE_PASSWORD_REQUEST":case"UPDATE_USER_REQUEST":case"DELETE_USER_REQUEST":return Object(Y.a)({},e,{loading:!0});case"UPDATE_PROFILE_SUCCESS":case"UPDATE_PASSWORD_SUCCESS":case"UPDATE_USER_SUCCESS":return Object(Y.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_USER_SUCCESS":return Object(Y.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_PROFILE_RESET":case"UPDATE_PASSWORD_RESET":case"UPDATE_USER_RESET":return Object(Y.a)({},e,{isUpdated:!1});case"DELETE_USER_RESET":return Object(Y.a)({},e,{isDeleted:!1});case"UPDATE_PROFILE_FAIL":case"UPDATE_PASSWORD_FAIL":case"UPDATE_USER_FAIL":case"DELETE_USER_FAIL":return Object(Y.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_USERS_REQUEST":return Object(Y.a)({},e,{loading:!0});case"ALL_USERS_SUCCESS":return Object(Y.a)({},e,{loading:!1,users:t.payload});case"ALL_USERS_FAIL":return Object(Y.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(Y.a)({},e,{loading:!0});case"USER_DETAILS_SUCCESS":return Object(Y.a)({},e,{loading:!1,user:t.payload});case"USER_DETAILS_FAIL":return Object(Y.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_REQUEST":case"NEW_PASSWORD_REQUEST":return Object(Y.a)({},e,{loading:!0,error:null});case"FORGOT_PASSWORD_SUCCESS":return Object(Y.a)({},e,{loading:!1,message:t.payload});case"NEW_PASSWORD_SUCCESS":return Object(Y.a)({},e,{success:t.payload});case"FORGOT_PASSWORD_FAIL":case"NEW_PASSWORD_FAIL":return Object(Y.a)({},e,{loading:!1,error:t.payload});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.payload,r=e.cartItems.find(function(e){return e.product===a.product});return r?Object(Y.a)({},e,{cartItems:e.cartItems.map(function(e){return e.product===r.product?a:e})}):Object(Y.a)({},e,{cartItems:[].concat(Object(ae.a)(e.cartItems),[a])});case"REMOVE_ITEM_CART":return Object(Y.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.product!==t.payload})});case"SAVE_SHIPPING_INFO":return Object(Y.a)({},e,{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER_REQUEST":return Object(Y.a)({},e,{loading:!0});case"CREATE_ORDER_SUCCESS":return{loading:!1,order:t.payload};case"CREATE_ORDER_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDERS_REQUEST":return{loading:!0};case"MY_ORDERS_SUCCESS":return console.log("Order success"),{loading:!1,orders:t.payload};case"MY_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_ORDERS_REQUEST":return{loading:!0};case"ALL_ORDERS_SUCCESS":return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case"ALL_ORDERS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{loading:!0};case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ORDER_REQUEST":case"DELETE_ORDER_REQUEST":return Object(Y.a)({},e,{loading:!0});case"UPDATE_ORDER_SUCCESS":return Object(Y.a)({},e,{loading:!1,isUpdated:t.payload});case"DELETE_ORDER_SUCCESS":return Object(Y.a)({},e,{loading:!1,isDeleted:t.payload});case"UPDATE_ORDER_FAIL":case"DELETE_ORDER_FAIL":return Object(Y.a)({},e,{error:t.payload});case"UPDATE_ORDER_RESET":return Object(Y.a)({},e,{isUpdated:!1});case"DELETE_ORDER_RESET":return Object(Y.a)({},e,{isDeleted:!1});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_REVIEW_REQUEST":return Object(Y.a)({},e,{loading:!0});case"NEW_REVIEW_SUCCESS":return{loading:!1,success:t.payload};case"NEW_REVIEW_FAIL":return Object(Y.a)({},e,{error:t.payload});case"NEW_REVIEW_RESET":return Object(Y.a)({},e,{success:!1});case"CLEAR_ERRORS":return Object(Y.a)({},e,{error:null});default:return e}}}),ne={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},ce=[ee.a],le=Object(Z.createStore)(re,ne,Object(te.composeWithDevTools)(Z.applyMiddleware.apply(void 0,ce))),se=function(){var e=Object(p.c)(function(e){return e.auth}),t=e.user,a=e.loading;return n.a.createElement(r.Fragment,null,a?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Your Profile"}),n.a.createElement("h2",{className:"mt-5 ml-5"},"My Profile"),n.a.createElement("div",{className:"row justify-content-around mt-5 user-info"},n.a.createElement("div",{className:"col-12 col-md-3"},n.a.createElement("figure",{className:"avatar avatar-profile"},n.a.createElement("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})),n.a.createElement(u.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5"},"Edit Profile")),n.a.createElement("div",{className:"col-12 col-md-5"},n.a.createElement("h4",null,"Full Name"),n.a.createElement("p",null,t.name),n.a.createElement("h4",null,"Email Address"),n.a.createElement("p",null,t.email),n.a.createElement("h4",null,"Joined On"),n.a.createElement("p",null,String(t.createdAt).substring(0,10)),"admin"!==t.role&&n.a.createElement(u.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5"},"My Orders"),n.a.createElement(u.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3"},"Change Password")))))},oe=function(e){var t=e.shipping,a=e.confirmOrder,r=e.payment;return n.a.createElement("div",{className:"checkout-progress d-flex justify-content-center mt-5"},t?n.a.createElement(u.b,{to:"shippping",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Shipping"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(u.b,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Shipping"),n.a.createElement("div",{className:"triangle-incomplete"})),a?n.a.createElement(u.b,{to:"/order/confirm",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Confirm Order"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(u.b,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Confirm Order"),n.a.createElement("div",{className:"triangle-incomplete"})),r?n.a.createElement(u.b,{to:"/payment",className:"float-right"},n.a.createElement("div",{className:"triangle2-active"}),n.a.createElement("div",{className:"step active-step"},"Payment"),n.a.createElement("div",{className:"triangle-active"})):n.a.createElement(u.b,{to:"#!",disabled:!0},n.a.createElement("div",{className:"triangle2-incomplete"}),n.a.createElement("div",{className:"step incomplete"},"Payment"),n.a.createElement("div",{className:"triangle-incomplete"})))},me=a(38),ie={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},ue=function(){var e=Object(d.g)(),t=Object(f.d)(),a=Object(me.useStripe)(),c=Object(me.useElements)(),l=Object(p.b)(),s=Object(p.c)(function(e){return e.auth}).user,i=Object(p.c)(function(e){return e.cart}),u=i.cartItems,E=i.shippingInfo,b=Object(p.c)(function(e){return e.newOrder}).error;Object(r.useEffect)(function(){b&&(t.error(b),l(K()))},[l,t,b]);var g=JSON.parse(sessionStorage.getItem("orderInfo")),h={orderItems:u,shippingInfo:E};g&&(h.itemsPrice=g.itemsPrice,h.shippingPrice=g.shippingPrice,h.taxPrice=g.taxPrice,h.totalPrice=g.totalPrice);var y={amount:Math.round(100*g.totalPrice)},O=function(){var r=Object(m.a)(o.a.mark(function r(n){var m,i,u,d;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),document.querySelector("#pay_btn").disabled=!0,r.prev=2,i={headers:{"Content-Type":"application/json"}},r.next=6,v.a.post("/api/v1/payment/process",y,i);case 6:if(m=r.sent,u=m.data.client_secret,console.log(u),a&&c){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,a.confirmCardPayment(u,{payment_method:{card:c.getElement(me.CardNumberElement),billing_details:{name:s.name,email:s.email}}});case 13:(d=r.sent).error?(t.error(d.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===d.paymentIntent.status?(h.paymentInfo={id:d.paymentIntent.id,status:d.paymentIntent.status},l(J(h)),e("/success")):t.error("There is some issue while payment processing"),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(2),document.querySelector("#pay_btn").disabled=!1,t.error(r.t0.response.data.message);case 21:case"end":return r.stop()}},r,null,[[2,17]])}));return function(e){return r.apply(this,arguments)}}();return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Payment"}),n.a.createElement(oe,{shipping:!0,confirmOrder:!0,payment:!0}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:O},n.a.createElement("h1",{className:"mb-4"},"Card Info"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"card_num_field"},"Card Number"),n.a.createElement(me.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:ie})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"card_exp_field"},"Card Expiry"),n.a.createElement(me.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:ie})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"card_cvc_field"},"Card CVC"),n.a.createElement(me.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:ie})),n.a.createElement("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3"},"Pay "," - \u20b9".concat(g&&g.totalPrice))))))},de=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(""),s=Object(i.a)(l,2),u=s[0],E=s[1],b=Object(d.g)(),g=Object(f.d)(),h=Object(p.b)(),y=Object(p.c)(function(e){return e.user}),S=y.error,_=y.isUpdated,N=y.loading;Object(r.useEffect)(function(){S&&(g.error(S),h(O())),_&&(g.success("Password updated successfully"),b("/me"),h({type:"UPDATE_PASSWORD_RESET"}))},[h,g,S,b,_]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Change Password"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r=new FormData;r.set("oldPassword",a),r.set("password",u),h((t=r,function(){var e=Object(m.a)(o.a.mark(function e(a){var r,n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"UPDATE_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/password/update",t,r);case 5:n=e.sent,c=n.data,a({type:"UPDATE_PASSWORD_SUCCESS",payload:c.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"UPDATE_PASSWORD_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},n.a.createElement("h1",{className:"mt-2 mb-5"},"Update Password"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"old_password_field"},"Old Password"),n.a.createElement("input",{type:"password",id:"old_password_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"new_password_field"},"New Password"),n.a.createElement("input",{type:"password",id:"new_password_field",className:"form-control",value:u,onChange:function(e){return E(e.target.value)}})),n.a.createElement("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!N},"Update Password")))))},Ee=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(f.d)(),s=Object(p.b)(),u=Object(p.c)(function(e){return e.forgotPassword}),d=u.error,E=u.loading,b=u.message;Object(r.useEffect)(function(){d&&(l.error(d),s(O())),b&&l.success(b)},[s,l,d,b]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Forgot Password"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",a),s(function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FORGOT_PASSWORD_REQUEST"}),r={headers:{"Content-Type":"application/json"}},t.next=5,v.a.post("/api/v1/password/forgot",e,r);case 5:n=t.sent,c=n.data,a({type:"FORGOT_PASSWORD_SUCCESS",payload:c.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"FORGOT_PASSWORD_FAIL",payload:t.t0.response.data.message});case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}(t))}},n.a.createElement("h1",{className:"mb-3"},"Forgot Password"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Enter Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!E},"Send Email")))))},pe=function(){var e=Object(d.g)(),t=Object(p.c)(function(e){return e.cart}),a=t.cartItems,c=t.shippingInfo,l=Object(p.c)(function(e){return e.auth}).user,s=a.reduce(function(e,t){return e+t.price*t.quantity},0),o=s>500?0:150,m=Number((.02*s).toFixed(2)),i=(s+o+m).toFixed(2);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Confirm Order"}),n.a.createElement(oe,{shipping:!0,confirmOrder:!0}),n.a.createElement("div",{className:"row d-flex justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-8 mt-5 order-confirm"},n.a.createElement("h4",{className:"mb-3"},"Shipping Info"),n.a.createElement("p",null,n.a.createElement("b",null,"Name:")," ",l&&l.name),n.a.createElement("p",null,n.a.createElement("b",null,"Phone:")," ",c.phoneNo),n.a.createElement("p",{className:"mb-4"},n.a.createElement("b",null,"Address:")," ","".concat(c.address,", ").concat(c.city,", ").concat(c.postalCode,", ").concat(c.country)),n.a.createElement("hr",null),n.a.createElement("h4",{className:"mt-4"},"Your Cart Items:"),a.map(function(e){return n.a.createElement(r.Fragment,null,n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item my-1",key:e.product},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-4 col-lg-2"},n.a.createElement("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})),n.a.createElement("div",{className:"col-5 col-lg-6"},n.a.createElement(u.b,{to:"/product/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0"},n.a.createElement("p",null,e.quantity," x $",e.price," = ",n.a.createElement("b",null,"$",(e.quantity*e.price).toFixed(2)))))),n.a.createElement("hr",null))})),n.a.createElement("div",{className:"col-12 col-lg-3 my-4"},n.a.createElement("div",{id:"order_summary"},n.a.createElement("h4",null,"Order Summary"),n.a.createElement("hr",null),n.a.createElement("h6",null,"(Shipping charges apply on orders less than \u20b9500)"),n.a.createElement("hr",null),n.a.createElement("p",null,"Subtotal:  ",n.a.createElement("span",{className:"order-summary-values"},"\u20b9",s.toFixed(2))),n.a.createElement("p",null,"Shipping: ",n.a.createElement("span",{className:"order-summary-values"},"\u20b9",o)),n.a.createElement("p",null,"Tax (2%):  ",n.a.createElement("span",{className:"order-summary-values"},"\u20b9",m)),n.a.createElement("hr",null),n.a.createElement("p",null,"Total: ",n.a.createElement("span",{className:"order-summary-values"},"\u20b9",i)),n.a.createElement("hr",null),n.a.createElement("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var t={itemsPrice:s.toFixed(2),shippingPrice:o,taxPrice:m,totalPrice:i};sessionStorage.setItem("orderInfo",JSON.stringify(t)),e("/payment")}},n.a.createElement("strong",null,"Proceed to Payment"))))))},fe=function(e){e.match;var t=Object(d.h)().token,a=Object(d.g)(),c=Object(r.useState)(""),l=Object(i.a)(c,2),s=l[0],u=l[1],E=Object(r.useState)(""),b=Object(i.a)(E,2),g=b[0],h=b[1],y=Object(f.d)(),S=Object(p.b)(),_=Object(p.c)(function(e){return e.forgotPassword}),N=_.error,R=_.success;Object(r.useEffect)(function(){N&&(y.error(N),S(O())),R&&(y.success("Password updated successfully"),a("/login"))},[S,y,N,R,a]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"New Password Reset"}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var a=new FormData;a.set("password",s),a.set("confirmPassword",g),S(function(e,t){return function(){var a=Object(m.a)(o.a.mark(function a(r){var n,c,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"NEW_PASSWORD_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.put("/api/v1/password/reset/".concat(e),t,n);case 5:c=a.sent,l=c.data,r({type:"NEW_PASSWORD_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"NEW_PASSWORD_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))}},n.a.createElement("h1",{className:"mb-3"},"New Password"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_field"},"Password"),n.a.createElement("input",{type:"password",id:"password_field",className:"form-control",value:s,onChange:function(e){return u(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"confirm_password_field"},"Confirm Password"),n.a.createElement("input",{type:"password",id:"confirm_password_field",className:"form-control",value:g,onChange:function(e){return h(e.target.value)}})),n.a.createElement("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3"},"Set Password")))))},be=a(35),ve=function(){var e=Object(f.d)(),t=Object(p.b)(),a=Object(p.c)(function(e){return e.myOrders}),c=a.loading,l=a.error,s=a.orders;Object(r.useEffect)(function(){t(function(){var e=Object(m.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"MY_ORDERS_REQUEST"}),e.next=4,v.a.get("/api/v1/orders/me");case 4:a=e.sent,r=a.data,t({type:"MY_ORDERS_SUCCESS",payload:r.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"MY_ORDERS_FAIL",payload:e.t0.response.data.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()),l&&(e.error(l),t(K()))},[t,e,l]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"My Orders"}),n.a.createElement("h1",{className:"my-5"},"My Orders"),c?n.a.createElement(P,null):n.a.createElement(be.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return s.forEach(function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"\u20b9".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?n.a.createElement("p",{style:{color:"green"}},t.orderStatus):n.a.createElement("p",{style:{color:"red"}},t.orderStatus),actions:n.a.createElement(u.b,{to:"/order/".concat(t._id),className:"btn btn-primary"},n.a.createElement("i",{className:"fa fa-eye"}))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}))},ge=function(){var e=Object(d.h)().id,t=Object(f.d)(),a=Object(p.b)(),c=Object(p.c)(function(e){return e.orderDetails}),l=c.loading,s=c.error,o=c.order,m=void 0===o?{}:o,i=m.shippingInfo,E=m.orderItems,b=m.paymentInfo,v=m.user,g=m.totalPrice,h=m.orderStatus;Object(r.useEffect)(function(){a(z(e)),s&&(t.error(s),a(K()))},[a,t,s,e]);var y=i&&"".concat(i.address,", ").concat(i.city,", ").concat(i.postalCode,", ").concat(i.country),O=!(!b||"succeeded"!==b.status);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Order Details"}),l?n.a.createElement(P,null):n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row d-flex justify-content-between"},n.a.createElement("div",{className:"col-12 col-lg-8 mt-5 order-details"},n.a.createElement("h1",{className:"my-5"},"Order # ",m._id),n.a.createElement("h4",{className:"mb-4"},"Shipping Info"),n.a.createElement("p",null,n.a.createElement("b",null,"Name:")," ",v&&v.name),n.a.createElement("p",null,n.a.createElement("b",null,"Phone:")," ",i&&i.phoneNo),n.a.createElement("p",{className:"mb-4"},n.a.createElement("b",null,"Address:"),y),n.a.createElement("p",null,n.a.createElement("b",null,"Amount:")," $",g),n.a.createElement("hr",null),n.a.createElement("h4",{className:"my-4"},"Payment"),n.a.createElement("p",{className:O?"greenColor":"redColor"},n.a.createElement("b",null,O?"PAID":"NOT PAID")),n.a.createElement("h4",{className:"my-4"},"Order Status:"),n.a.createElement("p",{className:m.orderStatus&&String(m.orderStatus).includes("Delivered")?"greenColor":"redColor"},n.a.createElement("b",null,h)),n.a.createElement("h4",{className:"my-4"},"Order Items:"),n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item my-1"},E&&E.map(function(e){return n.a.createElement("div",{key:e.product,className:"row my-5"},n.a.createElement("div",{className:"col-4 col-lg-2"},n.a.createElement("img",{src:e.image,alt:e.name,height:"45",width:"65"})),n.a.createElement("div",{className:"col-5 col-lg-5"},n.a.createElement(u.b,{to:"/products/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0"},n.a.createElement("p",null,"\u20b9",e.price)),n.a.createElement("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0"},n.a.createElement("p",null,e.quantity," Piece(s)")))})),n.a.createElement("hr",null)))))},he=a(220),ye=function(){return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Order Success"}),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-6 mt-5 text-center"},n.a.createElement("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.jpg",alt:"Order Success",width:"500",height:"500"}),n.a.createElement("h2",null,"Your Order has been placed successfully."),n.a.createElement(u.b,{to:"/orders/me"},"Go to Orders"))))},Oe=a(221),Se=function(){var e=Object(d.g)(),t=Object.values(Oe.countries),a=Object(p.c)(function(e){return e.cart}).shippingInfo,c=Object(r.useState)(a.address),l=Object(i.a)(c,2),s=l[0],u=l[1],E=Object(r.useState)(a.city),f=Object(i.a)(E,2),b=f[0],v=f[1],g=Object(r.useState)(a.postalCode),h=Object(i.a)(g,2),y=h[0],O=h[1],S=Object(r.useState)(a.phoneNo),_=Object(i.a)(S,2),N=_[0],R=_[1],j=Object(r.useState)(a.country),w=Object(i.a)(j,2),D=w[0],U=w[1],T=Object(p.b)();return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Shipping Info"}),n.a.createElement(oe,{shipping:!0}),n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(t){var a;t.preventDefault(),T((a={address:s,city:b,phoneNo:N,postalCode:y,country:D},function(){var e=Object(m.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SAVE_SHIPPING_INFO",payload:a}),localStorage.setItem("shippingInfo",JSON.stringify(a));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),e("/order/confirm")}},n.a.createElement("h1",{className:"mb-4"},"Shipping Info"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"address_field"},"Address"),n.a.createElement("input",{type:"text",id:"address_field",className:"form-control",value:s,onChange:function(e){return u(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"city_field"},"City"),n.a.createElement("input",{type:"text",id:"city_field",className:"form-control",value:b,onChange:function(e){return v(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"phone_field"},"Phone No"),n.a.createElement("input",{type:"phone",id:"phone_field",className:"form-control",value:N,onChange:function(e){return R(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"postal_code_field"},"Postal Code"),n.a.createElement("input",{type:"number",id:"postal_code_field",className:"form-control",value:y,onChange:function(e){return O(e.target.value)},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"country_field"},"Country"),n.a.createElement("select",{id:"country_field",className:"form-control",value:D,onChange:function(e){return U(e.target.value)},required:!0},t.map(function(e){return n.a.createElement("option",{key:e.name,value:e.name},e.name)}))),n.a.createElement("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3"},n.a.createElement("strong",null,"CONTINUE"))))))},_e=(a(36),function(){var e=Object(d.g)(),t=Object(f.d)(),a=Object(p.b)(),c=Object(p.c)(function(e){return e.products}),l=c.loading,s=c.error,i=c.products,E=Object(p.c)(function(e){return e.product}),b=E.error,g=E.isDeleted;Object(r.useEffect)(function(){a(T()),s&&(t.error(s),a(I())),b&&(t.error(b),a(I())),g&&(t.success("Product deleted successfully"),e("/admin/products"),a({type:"DELETE_PRODUCT_RESET"}))},[a,t,s,b,g,e]);var h=function(e){a(function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_PRODUCT_REQUEST"}),t.next=4,v.a.delete("/api/v1/admin/product/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_PRODUCT_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_PRODUCT_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"All Products"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"my-5"},"All Products"),l?n.a.createElement(P,null):n.a.createElement(be.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach(function(t){e.rows.push({id:t._id,name:t.name,price:"\u20b9".concat(t.price),stock:t.stock,actions:n.a.createElement(r.Fragment,null,n.a.createElement(u.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2"},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return h(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})}),e}(),className:"px-4",bordered:!0,striped:!0,hover:!0})))))}),Ne=function(){var e=Object(d.g)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(0),u=Object(i.a)(s,2),E=u[0],b=u[1],g=Object(r.useState)(""),h=Object(i.a)(g,2),y=h[0],O=h[1],S=Object(r.useState)(""),_=Object(i.a)(S,2),N=_[0],R=_[1],j=Object(r.useState)(0),w=Object(i.a)(j,2),D=w[0],U=w[1],T=Object(r.useState)(""),A=Object(i.a)(T,2),P=A[0],L=A[1],x=Object(r.useState)([]),F=Object(i.a)(x,2),k=F[0],W=F[1],Q=Object(r.useState)([]),V=Object(i.a)(Q,2),G=V[0],M=V[1],q=Object(f.d)(),Y=Object(p.b)(),H=Object(p.c)(function(e){return e.newProduct}),J=H.loading,z=H.error,$=H.success;Object(r.useEffect)(function(){z&&(q.error(z),Y(I())),$&&(e("/admin/products"),q.success("Product created successfully"),Y({type:"NEW_PRODUCT_RESET"}))},[Y,q,z,$,e]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"New Product"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"wrapper my-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a=new FormData;a.set("name",c),a.set("price",E),a.set("description",y),a.set("category",N),a.set("stock",D),a.set("seller",P),k.forEach(function(e){a.append("images",e)}),Y((t=a,function(){var e=Object(m.a)(o.a.mark(function e(a){var r,n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"NEW_PRODUCT_REQUEST"}),r={headers:{"Content-Type":"application/json"}},e.next=5,v.a.post("/api/v1/admin/product/new",t,r);case 5:n=e.sent,c=n.data,a({type:"NEW_PRODUCT_SUCCESS",payload:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:"NEW_PRODUCT_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mb-4"},"New Product"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name_field"},"Name"),n.a.createElement("input",{type:"text",id:"name_field",className:"form-control",value:c,onChange:function(e){return l(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"price_field"},"Price"),n.a.createElement("input",{type:"text",id:"price_field",className:"form-control",value:E,onChange:function(e){return b(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description_field"},"Description"),n.a.createElement("textarea",{className:"form-control",id:"description_field",rows:"8",value:y,onChange:function(e){return O(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"category_field"},"Category"),n.a.createElement("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return R(e.target.value)}},["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"stock_field"},"Stock"),n.a.createElement("input",{type:"number",id:"stock_field",className:"form-control",value:D,onChange:function(e){return U(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"seller_field"},"Seller Name"),n.a.createElement("input",{type:"text",id:"seller_field",className:"form-control",value:P,onChange:function(e){return L(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Images"),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);M([]),W([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(M(function(e){return[].concat(Object(ae.a)(e),[t.result])}),W(function(e){return[].concat(Object(ae.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Images")),G.map(function(e){return n.a.createElement("img",{src:e,key:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"})})),n.a.createElement("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!J},"CREATE")))))))},Re=function(){var e=Object(d.g)(),t=Object(r.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(r.useState)(0),u=Object(i.a)(s,2),E=u[0],b=u[1],g=Object(r.useState)(""),h=Object(i.a)(g,2),y=h[0],O=h[1],S=Object(r.useState)(""),_=Object(i.a)(S,2),N=_[0],R=_[1],j=Object(r.useState)(0),w=Object(i.a)(j,2),D=w[0],T=w[1],A=Object(r.useState)(""),P=Object(i.a)(A,2),L=P[0],x=P[1],F=Object(r.useState)([]),k=Object(i.a)(F,2),W=k[0],Q=k[1],V=Object(r.useState)([]),G=Object(i.a)(V,2),M=G[0],q=G[1],Y=Object(r.useState)([]),H=Object(i.a)(Y,2),J=H[0],z=H[1],$=Object(f.d)(),K=Object(p.b)(),X=Object(p.c)(function(e){return e.productDetails}),Z=X.error,ee=X.product,te=Object(p.c)(function(e){return e.product}),re=te.loading,ne=te.error,ce=te.isUpdated,le=Object(d.h)().id;Object(r.useEffect)(function(){ee&&ee._id!==le?K(U(le)):(l(ee.name),b(ee.price),O(ee.description),R(ee.category),x(ee.seller),T(ee.stock),q(ee.images)),Z&&($.error(Z),K(I())),ne&&($.error(ne),K(I())),ce&&(e("/admin/products"),$.success("Product updated successfully"),K({type:"UPDATE_PRODUCT_RESET"}))},[K,$,Z,ce,e,ne,ee,le]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Update Product"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"wrapper my-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("name",c),r.set("price",E),r.set("description",y),r.set("category",N),r.set("stock",D),r.set("seller",L),W.forEach(function(e){r.append("images",e)}),K((t=ee._id,a=r,function(){var e=Object(m.a)(o.a.mark(function e(r){var n,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"UPDATE_PRODUCT_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/admin/product/".concat(t),a,n);case 5:c=e.sent,l=c.data,r({type:"UPDATE_PRODUCT_SUCCESS",payload:l.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:"UPDATE_PRODUCT_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data"},n.a.createElement("h1",{className:"mb-4"},"Update Product"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name_field"},"Name"),n.a.createElement("input",{type:"text",id:"name_field",className:"form-control",value:c,onChange:function(e){return l(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"price_field"},"Price"),n.a.createElement("input",{type:"text",id:"price_field",className:"form-control",value:E,onChange:function(e){return b(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description_field"},"Description"),n.a.createElement("textarea",{className:"form-control",id:"description_field",rows:"8",value:y,onChange:function(e){return O(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"category_field"},"Category"),n.a.createElement("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return R(e.target.value)}},["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map(function(e){return n.a.createElement("option",{key:e,value:e},e)}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"stock_field"},"Stock"),n.a.createElement("input",{type:"number",id:"stock_field",className:"form-control",value:D,onChange:function(e){return T(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"seller_field"},"Seller Name"),n.a.createElement("input",{type:"text",id:"seller_field",className:"form-control",value:L,onChange:function(e){return x(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Images"),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);z([]),Q([]),q([]),t.forEach(function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(z(function(e){return[].concat(Object(ae.a)(e),[t.result])}),Q(function(e){return[].concat(Object(ae.a)(e),[t.result])}))},t.readAsDataURL(e)})},multiple:!0}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose Images")),M&&M.map(function(e){return n.a.createElement("img",{key:e,src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"})}),J.map(function(e){return n.a.createElement("img",{src:e,key:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"})})),n.a.createElement("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!re},"UPDATE")))))))},je=function(){var e=Object(d.g)(),t=Object(f.d)(),a=Object(p.b)(),c=Object(p.c)(function(e){return e.allOrders}),l=c.loading,s=c.error,i=c.orders,E=Object(p.c)(function(e){return e.order}).isDeleted;Object(r.useEffect)(function(){a($()),s&&(t.error(s),a(K())),E&&(t.success("Order deleted successfully"),e("/admin/orders"),a({type:"DELETE_ORDER_RESET"}))},[a,t,s,E,e]);var b=function(e){a(function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_ORDER_REQUEST"}),t.next=4,v.a.delete("/api/v1/admin/order/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_ORDER_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_ORDER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"All Orders"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"my-5"},"All Orders"),l?n.a.createElement(P,null):n.a.createElement(be.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach(function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?n.a.createElement("p",{style:{color:"green"}},t.orderStatus):n.a.createElement("p",{style:{color:"red"}},t.orderStatus),actions:n.a.createElement(r.Fragment,null,n.a.createElement(u.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary py-1 px-2"},n.a.createElement("i",{className:"fa fa-eye"})),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return b(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})))))},we=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(d.h)().id,s=Object(f.d)(),E=Object(p.b)(),b=Object(p.c)(function(e){return e.orderDetails}),g=b.loading,h=b.order,y=void 0===h?{}:h,O=y.shippingInfo,S=y.orderItems,_=y.paymentInfo,N=y.user,R=y.totalPrice,j=y.orderStatus,w=Object(p.c)(function(e){return e.order}),D=w.error,U=w.isUpdated,T=l;Object(r.useEffect)(function(){E(z(T)),D&&(s.error(D),E(K())),U&&(s.success("Order updated successfully"),E({type:"UPDATE_ORDER_RESET"}))},[E,s,D,U,T]);var A=function(e){var t=new FormData;t.set("status",a),E(function(e,t){return function(){var a=Object(m.a)(o.a.mark(function a(r){var n,c,l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"UPDATE_ORDER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},a.next=5,v.a.put("/api/v1/admin/order/".concat(e),t,n);case 5:c=a.sent,l=c.data,r({type:"UPDATE_ORDER_SUCCESS",payload:l.success}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:"UPDATE_ORDER_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}(e,t))},I=O&&"".concat(O.address,", ").concat(O.city,", ").concat(O.postalCode,", ").concat(O.country),L=!(!_||"succeeded"!==_.status);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Process Order # ".concat(y&&y._id)}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,g?n.a.createElement(P,null):n.a.createElement("div",{className:"row d-flex justify-content-around"},n.a.createElement("div",{className:"col-12 col-lg-7 order-details"},n.a.createElement("h2",{className:"my-5"},"Order # ",y._id),n.a.createElement("h4",{className:"mb-4"},"Shipping Info"),n.a.createElement("p",null,n.a.createElement("b",null,"Name:")," ",N&&N.name),n.a.createElement("p",null,n.a.createElement("b",null,"Phone:")," ",O&&O.phoneNo),n.a.createElement("p",{className:"mb-4"},n.a.createElement("b",null,"Address:"),I),n.a.createElement("p",null,n.a.createElement("b",null,"Amount:")," \u20b9",R),n.a.createElement("hr",null),n.a.createElement("h4",{className:"my-4"},"Payment"),n.a.createElement("p",{className:L?"greenColor":"redColor"},n.a.createElement("b",null,L?"PAID":"NOT PAID")),n.a.createElement("h4",{className:"my-4"},"Stripe ID"),n.a.createElement("p",null,n.a.createElement("b",null,_&&_.id)),n.a.createElement("h4",{className:"my-4"},"Order Status:"),n.a.createElement("p",{className:y.orderStatus&&String(y.orderStatus).includes("Delivered")?"greenColor":"redColor"},n.a.createElement("b",null,j)),n.a.createElement("h4",{className:"my-4"},"Order Items:"),n.a.createElement("hr",null),n.a.createElement("div",{className:"cart-item my-1"},S&&S.map(function(e){return n.a.createElement("div",{key:e.product,className:"row my-5"},n.a.createElement("div",{className:"col-4 col-lg-2"},n.a.createElement("img",{src:e.image,alt:e.name,height:"45",width:"65"})),n.a.createElement("div",{className:"col-5 col-lg-5"},n.a.createElement(u.b,{to:"/products/".concat(e.product)},e.name)),n.a.createElement("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0"},n.a.createElement("p",null,"\u20b9",e.price)),n.a.createElement("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0"},n.a.createElement("p",null,e.quantity," Piece(s)")))})),n.a.createElement("hr",null)),n.a.createElement("div",{className:"col-12 col-lg-3 mt-5"},n.a.createElement("h4",{className:"my-4"},"Status"),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control",name:"status",value:a,onChange:function(e){return c(e.target.value)}},n.a.createElement("option",{value:"Processing"},"Processing"),n.a.createElement("option",{value:"Shipped"},"Shipped"),n.a.createElement("option",{value:"Delivered"},"Delivered"))),n.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return A(y._id)}},"Update Status")))))))},Ce=function(){var e=Object(d.g)(),t=Object(f.d)(),a=Object(p.b)(),c=Object(p.c)(function(e){return e.allUsers}),l=c.loading,s=c.error,i=c.users,E=Object(p.c)(function(e){return e.user}).isDeleted;Object(r.useEffect)(function(){a(y()),s&&(t.error(s),a(O())),E&&(t.success("User deleted successfully"),e("/admin/users"),a({type:"DELETE_USER_RESET"}))},[a,t,s,E,e]);var b=function(e){a(function(e){return function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_USER_REQUEST"}),t.next=4,v.a.delete("/api/v1/admin/user/".concat(e));case 4:r=t.sent,n=r.data,a({type:"DELETE_USER_SUCCESS",payload:n.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"DELETE_USER_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"All Users"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("h1",{className:"my-5"},"All Users"),l?n.a.createElement(P,null):n.a.createElement(be.c,{data:function(){var e={columns:[{label:"User ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return i.forEach(function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:n.a.createElement(r.Fragment,null,n.a.createElement(u.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2"},n.a.createElement("i",{className:"fa fa-pencil"})),n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return b(t._id)}},n.a.createElement("i",{className:"fa fa-trash"})))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})))))},De=function(){var e=Object(d.h)().id,t=Object(d.g)(),a=Object(r.useState)(""),c=Object(i.a)(a,2),l=c[0],s=c[1],u=Object(r.useState)(""),E=Object(i.a)(u,2),b=E[0],g=E[1],h=Object(r.useState)(""),y=Object(i.a)(h,2),S=y[0],_=y[1],N=Object(f.d)(),R=Object(p.b)(),j=Object(p.c)(function(e){return e.user}),w=j.error,D=j.isUpdated,U=Object(p.c)(function(e){return e.userDetails}).user,T=e;Object(r.useEffect)(function(){var e;console.log(U&&U._id!==T),U&&U._id!==T?R((e=T,function(){var t=Object(m.a)(o.a.mark(function t(a){var r,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),t.next=4,v.a.get("/api/v1/admin/user/".concat(e));case 4:r=t.sent,n=r.data,a({type:"USER_DETAILS_SUCCESS",payload:n.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIL",payload:t.t0.response.data.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}())):(s(U.name),g(U.email),_(U.role)),w&&(N.error(w),R(O())),D&&(N.success("User updated successfully"),t("/admin/users"),R({type:"UPDATE_USER_RESET"}))},[R,N,w,t,D,T,U]);return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Update User"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement("div",{className:"row wrapper"},n.a.createElement("div",{className:"col-10 col-lg-5"},n.a.createElement("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("name",l),r.set("email",b),r.set("role",S),R((t=U._id,a=r,function(){var e=Object(m.a)(o.a.mark(function e(r){var n,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"UPDATE_USER_REQUEST"}),n={headers:{"Content-Type":"application/json"}},e.next=5,v.a.put("/api/v1/admin/user/".concat(t),a,n);case 5:c=e.sent,l=c.data,r({type:"UPDATE_USER_SUCCESS",payload:l.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:"UPDATE_USER_FAIL",payload:e.t0.response.data.message});case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()))}},n.a.createElement("h1",{className:"mt-2 mb-5"},"Update User"),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name_field"},"Name"),n.a.createElement("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:l,onChange:function(e){return s(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email_field"},"Email"),n.a.createElement("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:b,onChange:function(e){return g(e.target.value)}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"role_field"},"Role"),n.a.createElement("select",{id:"role_field",className:"form-control",name:"role",value:S,onChange:function(e){return _(e.target.value)}},n.a.createElement("option",{value:"user"},"user"),n.a.createElement("option",{value:"admin"},"admin"))),n.a.createElement("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3"},"Update")))))))},Ue=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(f.d)(),s=Object(p.b)(),u=Object(p.c)(function(e){return e.productReviews}),d=u.error,E=u.reviews,b=Object(p.c)(function(e){return e.review}),g=b.isDeleted,h=b.error;Object(r.useEffect)(function(){d&&(l.error(d),s(I())),h&&(l.error(h),s(I())),""!==a&&s(A(a)),g&&(l.success("Review deleted successfully"),s({type:"DELETE_REVIEW_RESET"}))},[s,l,d,a,g,h]);var y=function(e){s(function(e,t){return function(){var a=Object(m.a)(o.a.mark(function a(r){var n,c;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:"DELETE_REVIEW_REQUEST"}),a.next=4,v.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:n=a.sent,c=n.data,r({type:"DELETE_REVIEW_SUCCESS",payload:c.success}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response),r({type:"DELETE_REVIEW_FAIL",payload:a.t0.response.data.message});case 13:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()}(e,a))};return n.a.createElement(r.Fragment,null,n.a.createElement(C,{title:"Product Reviews"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-md-2"},n.a.createElement(B,null)),n.a.createElement("div",{className:"col-12 col-md-10"},n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"row justify-content-center mt-5"},n.a.createElement("div",{className:"col-5"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(A(a))}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"productId_field"},"Enter Product ID"),n.a.createElement("input",{type:"text",id:"productId_field",className:"form-control",value:a,onChange:function(e){return c(e.target.value)}})),n.a.createElement("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2"},"SEARCH")))),E&&E.length>0?n.a.createElement(be.c,{data:function(){var e={columns:[{label:"Review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return E.forEach(function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:n.a.createElement("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return y(t._id)}},n.a.createElement("i",{className:"fa fa-trash"}))})}),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):n.a.createElement("p",{className:"mt-5 text-center"},"No Reviews.")))))};var Te=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)(function(){function e(){return(e=Object(m.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/v1/stripeapi");case 2:t=e.sent,a=t.data,c(a.stripeApiKey);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}le.dispatch(h()),function(){e.apply(this,arguments)}()},[]),n.a.createElement(u.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(S,null),n.a.createElement("div",{className:"container container-fluid"},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/",element:n.a.createElement(L,null),exact:!0}),n.a.createElement(d.b,{path:"/search/:keyword",element:n.a.createElement(L,null)}),n.a.createElement(d.b,{path:"/product/:id",element:n.a.createElement(W,null)}),n.a.createElement(d.b,{path:"/login",element:n.a.createElement(V,null)}),n.a.createElement(d.b,{path:"/loginqr",element:n.a.createElement(G,null)}),n.a.createElement(d.b,{path:"/password/forgot",element:n.a.createElement(Ee,null)}),n.a.createElement(d.b,{path:"/password/reset/:token",element:n.a.createElement(fe,null)}),n.a.createElement(d.b,{path:"/register",element:n.a.createElement(H,null)}),n.a.createElement(d.b,{path:"/success",element:n.a.createElement(ye,null)}),n.a.createElement(d.b,{path:"/payment",element:a&&n.a.createElement(me.Elements,{stripe:Object(he.a)(a)},n.a.createElement(ue,null))}),n.a.createElement(d.b,{path:"/orders/me",element:n.a.createElement(ve,null)}),n.a.createElement(d.b,{path:"/me",element:n.a.createElement(se,null),exact:!0}),n.a.createElement(d.b,{path:"/cart",element:n.a.createElement(Q,null),exact:!0}),n.a.createElement(d.b,{path:"/order/confirm",element:n.a.createElement(pe,null),exact:!0}),n.a.createElement(d.b,{path:"/me/update",element:n.a.createElement(M,null),exact:!0}),n.a.createElement(d.b,{path:"/password/update",element:n.a.createElement(de,null),exact:!0}),n.a.createElement(d.b,{path:"/shipping",element:n.a.createElement(Se,null),exact:!0}),n.a.createElement(d.b,{path:"/order/:id",element:n.a.createElement(ge,null),exact:!0}))),n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/dashboard",element:n.a.createElement(X,null),exact:!0}),n.a.createElement(d.b,{path:"/admin/products",element:n.a.createElement(_e,null)}),n.a.createElement(d.b,{path:"/admin/product",element:n.a.createElement(Ne,null)}),n.a.createElement(d.b,{path:"/admin/product/:id",element:n.a.createElement(Re,null)}),n.a.createElement(d.b,{path:"/admin/orders",element:n.a.createElement(je,null)}),n.a.createElement(d.b,{path:"/admin/order/:id",element:n.a.createElement(we,null)}),n.a.createElement(d.b,{path:"/admin/users",element:n.a.createElement(Ce,null)}),n.a.createElement(d.b,{path:"/admin/user/:id",element:n.a.createElement(De,null)}),n.a.createElement(d.b,{path:"/admin/reviews",element:n.a.createElement(Ue,null)})),n.a.createElement(_,null)))},Ae=a(222),Ie={timeout:5e3,position:f.b.BOTTOM_CENTER,transition:f.c.SCALE};l.a.createRoot(document.getElementById("root")).render(n.a.createElement(p.a,{store:le},n.a.createElement(f.a,Object.assign({template:Ae.a},Ie),n.a.createElement(Te,null))))}},[[224,2,1]]]);
//# sourceMappingURL=main.33fc5752.chunk.js.map